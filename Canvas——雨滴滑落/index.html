<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Css3制作逼真透过玻璃雨滴插件rainyday-xw素材网</title>
    <style media="screen" type="text/css">
      img {
        display: none;
      }
      body {
        overflow: hidden;
      }
      #canvas {
        position: absolute;
        top: 0px;
        left: 0px;
      }
    </style>
    <script src="js/rainyday.js" type="text/javascript"></script>
    <script type="text/javascript">
      function demo() {
        /*
          定义画布：设置画布以及雨滴的一些反弹碰撞属性
          canvas：画布
          demo2：背景图片
          window.innerWidth：画布宽度
          window.innerHeight：画布高度
        */
        var engine = new RainyDay(
          "canvas",
          "demo2",
          window.innerWidth,
          window.innerHeight
        );
        //设置重力函数， GRAVITY_NON_LINEAR是rainyday.js提供的默认值
        engine.gravity = engine.GRAVITY_NON_LINEAR;
        // 设置雨滴轨迹， TRAIL_DROPS是rainyday.js提供的默认值
        engine.trail = engine.TRAIL_DROPS;
        // 设置雨滴重力角
        engine.VARIABLE_GRAVITY_ANGLE = Math.PI / 8;
        /*
          启动雨渲染
          第一个参数：雨滴预设列表 
              engine.preset(0, 2, 0.5)： 
               0：雨滴下落的最小大小
               2：随机液滴大小的基本值
               0.5：选择此预设的概率(必须在0和1之间)
          第二个参数：雨滴的速度(如果没有提供或将生成0静态图像)
        */
        engine.rain([engine.preset(0, 2, 0.5), engine.preset(4, 4, 1)], 50);
      }
    </script>
  </head>

  <!-- onload 加载所有内容（包括图像、脚本文件、CSS 文件等），再执行一段脚本 -->
  <body onLoad="demo();">
    <!-- 需要使用serve打开不然会出现跨域问题 -->
    <img id="demo2" src="./img/210925012I464N-0-lp.jpg" />
    <!-- 获取线上图片，即使开服务器也会跨域 -->
    <!-- <img
      id="demo2"
      src="https://file.moyublog.com/d/file/2021-01-14/5e2056a2df658a488f1fc5d86a5e101b.jpg"
    /> -->
    <div id="cholder">
      <canvas id="canvas"></canvas>
    </div>
  </body>
</html>
